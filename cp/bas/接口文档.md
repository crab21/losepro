### 办公室自动化系统 - 接口文档

#### 1.照明接口

1.1 获取所有灯的状态

API：/light/state

请求方式：get

参数说明：

接口示例：http://localhost/light/state

返回数据：
        
   {
       "340": 0,
       "341": 0,
       "342": 0,
       "343": 0,
       "344": 0,
       ...
   }
        
其他说明：

    返回参数说明：短地址号+灯状态
    1开灯、0关灯、2掉线

<br>

---

1.2 开关灯

API：/light/switch/{shortaddrs}/{switch0}

请求方式：get

参数说明：

    shortaddrs: 短地址，多个：651-351
    switch0：0或1，0-关、1-开

接口示例：http://localhost/light/switch/651/1

返回数据：
        
    1 // 1-执行成功，0-执行失败
        
其他说明：

<br>

---

1.3 调节亮度

API：light/brightness/{shortaddrs}/{brightness}

请求方式：get

参数说明：

    shortaddrs: 短地址，多个：651-351
    brightness：亮度值0-100整数

接口示例：http://localhost/light/brightness/651/50

返回数据：
        
    1 // 1-执行成功，0-执行失败
        
其他说明：

<br>

---

1.2 开关人员感应

API：/light/induction/{shortaddrs}/{state}

请求方式：get

参数说明：

    shortaddrs: 短地址，多个：651-351
    state：0或1，0-关、1-开

接口示例：http://localhost/light/induction/651/1

返回数据：
        
    1 // 1-执行成功，0-执行失败
        
其他说明：

<br>

---

#### 2.空调接口

1.1 获取空调设备状态

API：/airconditioner/state

请求方式：get

参数说明：

接口示例：http://localhost/airconditioner/state
    

返回数据：
        
    {
        "801": {
            "addr": 801,
            "addrnum": "80800000",
            "switch0": 2,
            "mode": 0,
            "windSpeed": 0,
            "settingTemperature": 0,
            "compensateTemperature": 0,
            "indoorTemperature": 0,
            "scheduleTime": 1513413003484,
            "scheduleOn": false,
            "scheduleHour": 36,
            "time": 1513413003484,
            "state": 2
        },
        ...
    }
        
其他说明：

<br>

---

1.1.1 获取一个或多个空调状态

API：/airconditioner/state/{shortaddrs}

请求方式：get

参数说明：

    shortaddrs: 短地址，多个：803-802

接口示例：http://localhost/airconditioner/state/803
    

返回数据：
        
    {
        "803": {
            "addr": 803,
            "addrnum": "80200000",
            "switch0": 1,
            "mode": 1,
            "windSpeed": 0,
            "settingTemperature": 28,
            "compensateTemperature": 0,
            "indoorTemperature": 24,
            "scheduleTime": 1513416722554,
            "scheduleOn": false,
            "scheduleHour": 3,
            "time": 1513416898072,
            "state": 1
        }
    }
        
其他说明：

<br>

---

1.2 设定空调开关

API：/airconditioner/switch0/{shortaddrs}/{switch0}

请求方式：get

参数说明：

    shortaddrs: 短地址，多个：803-802
    switch0: 1-开机、0-关机

接口示例：http://localhost/airconditioner/switch0/803/1
    

返回数据：
        
    1 // 1-执行成功，0-执行失败
        
其他说明：

<br>

---

1.3 设定空调模式

API：/airconditioner/mode/{shortaddrs}/{mode}

请求方式：get

参数说明：

    shortaddrs: 短地址，多个：803-802
    mode: 1-制热、0-制冷

接口示例：http://localhost/airconditioner/mode/803/1
    

返回数据：
        
    1 // 1-执行成功，0-执行失败
        
其他说明：

<br>

---

1.4 设定空调风速

API：/airconditioner/wind/{shortaddrs}/{windSpeed}

请求方式：get

参数说明：

    shortaddrs: 短地址，多个：803-802
    windSpeed: 3-低速、2-中速、1-高速、0-自动

接口示例：http://localhost/airconditioner/wind/803/1
    

返回数据：
        
    1 // 1-执行成功，0-执行失败
        
其他说明：

<br>

---

1.5 设定空调温度

API：/airconditioner/temperature/{shortaddrs}/{temperature}

请求方式：get

参数说明：

    shortaddrs: 短地址，多个：803-802
    temperature: 设定范围：10~30（制冷和制热调节范围相同）

接口示例：http://localhost/api/airconditioner/temperature/803/20
    

返回数据：
        
    1 // 1-执行成功，0-执行失败
        
其他说明：

<br>

---


1.5.2 设定空调补偿温度

API：/airconditioner/compensateTemperature/{shortaddrs}/{temperature}

请求方式：get

参数说明：

    shortaddrs: 短地址，多个：803-802
    temperature: 设定范围：10~30（制冷和制热调节范围相同）

接口示例：http://localhost/api/airconditioner/compensateTemperature/803/20
    

返回数据：
        
    1 // 1-执行成功，0-执行失败
        
其他说明：

<br>

---

1.6 设定空调定时（暂未实现）

API：/airconditioner/schedule

请求方式：post

参数说明：

    shortaddrs: 短地址，多个：803-802
    scheduleOn: true, // 定时：true-定时开、false-定时关
    scheduleHour: 1.5 // 定时时长

接口示例：http://localhost/airconditioner/schedule

    data = {
        shortaddrs: 803,
        scheduleOn: true, // 定时：true-定时开、false-定时关
        scheduleHour: 1.5 // 定时时长
    }

返回数据：
        
    1 // 1-执行成功，0-执行失败
        
其他说明：

    返回时间单位为：分钟

<br>

---

1.7 设置空调参数（多参数一起设置）

API：/airconditioner/set/{shortaddrs}

请求方式：post

参数说明：

    shortaddrs: 短地址，多个：803-802
    switch0; // 开关机：1-开，0-关
    mode; // 模式：1-制热，0-制冷
    windSpeed; // 风速：0-自动，1-高速，2-中速，3-低速
    settingTemperature; // 设定温度，设定范围10~30
    // scheduleOn; // 定时开/关
    // scheduleHour; // 定时时间段 // 初始定义为0    

接口示例：http://localhost/airconditioner/set/803

    data = {
        shortaddrs: 803,
        switch0: 1,
        mode: 1,
        windSpeed: 0,
        settingTemperature: 28
    }

返回数据：
        
    1 // 1-执行成功，0-执行失败
        
其他说明：

<br>

---


